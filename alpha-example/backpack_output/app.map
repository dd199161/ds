{"version":3,"sources":["webpack:///webpack/bootstrap cdcc76aa10f2d89d1784","webpack:///external \"express\"","webpack:///./server/index.js","webpack:///external \"nuxt\"","webpack:///./server/api/index.js","webpack:///./server/api/auth.js","webpack:///external \"body-parser\"","webpack:///./build/get-ip.js","webpack:///external \"os\"","webpack:///./nuxt.config.js","webpack:///external \"path\"","webpack:///external \"webpack\"","webpack:///external \"lodash-webpack-plugin\"","webpack:///external \"webpack-monitor\"","webpack:///external \"lodash\"","webpack:///./package.json","webpack:///./backpack_output/token.json","webpack:///./build/markdown.js","webpack:///external \"transliteration\"","webpack:///external \"markdown-it-anchor\"","webpack:///external \"markdown-it-attrs\"","webpack:///./build/router.js","webpack:///external \"preload-webpack-plugin\"","webpack:///external \"opn\""],"names":["app","express","bodyParser","require","host","process","env","HOST","port","npm_package_config_nuxt_port","set","use","req","res","next","setHeader","config","dev","nuxt","builder","build","catch","error","console","exit","render","listen","log","router","Router","get","ip","headers","connection","remoteAddress","json","post","body","pw","success","message","send","path","webpack","LodashModuleReplacementPlugin","WebpackMonitor","_","pkg","token","markdown","NODE_ENV","isDev","modules","maxAge","concat","analyze","npm_config_analyze","analyzerMode","publicPath","plugins","shorthands","collections","currying","ProvidePlugin","$","jQuery","babel","presets","targets","chrome","ie","extend","isClient","_isDev","SOURCE_MAP","devtool","filter","plugin","constructor","name","PreloadWebpackPlugin","push","optimize","UglifyJsPlugin","extractComments","filename","compress","warnings","drop_console","drop_debugger","sourceMap","parallel","npm_config_monitor","target","launch","module","rules","test","include","resolve","__dirname","extractCSS","filenames","chunk","vendor","styleResources","scss","exports","head","title","meta","charset","content","hid","value","link","rel","type","href","loading","color","css","src","lang","appVersion","version","manifest","description","theme_color","proxy","onProxyReq","proxyReq","access_token","axios","init","defaults","timeout","redirectError","responseInterceptor","response","redirect","store","data","errorCode","commit","state","user","key","ssr","resourceHints","bundleRenderer","messages","error_404","debug","DEBUG"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cdcc76aa10f2d89d1784","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","import express from 'express'\r\nimport { Nuxt, Builder } from 'nuxt'\r\nimport api from './api'\r\nconst app = express()\r\nconst bodyParser = require('body-parser')\r\nconst host = process.env.HOST || require('../build/get-ip')\r\n/*\r\n  don't use process.env.PORT in package.json PORT=3300\r\n  .nuxt axios (process.env.API_URL || 'http://localhost:3200/api') will use npm_package_config_nuxt_port\r\n  it dispkay server connect ECONNREFUSED 127.0.0.1:3200  when f5 refresh home page on pm2 server\r\n*/\r\nconst port = process.env.npm_package_config_nuxt_port || 3200\r\n\r\n\r\n\r\napp.set('port', port)\r\n// app.disable('x-powered-by')\r\n// can't app.set('x-powered-by','xxx')\r\napp.use(function (req, res, next) {\r\n  res.setHeader('X-Powered-By', 'alpha')\r\n  next()\r\n})\r\n// app.use(bodyParser.json({limit:'900kb'}))\r\n// Import API Routes\r\napp.use('/api', api)\r\n\r\n// Import and Set Nuxt.js options\r\nlet config = require('../nuxt.config.js')\r\nconfig.dev = !(process.env.NODE_ENV === 'production')\r\n\r\n// Init Nuxt.js\r\nconst nuxt = new Nuxt(config)\r\n\r\n// Build only in dev mode\r\nif (config.dev) {\r\n  const builder = new Builder(nuxt)\r\n  builder.build().catch((error) => {\r\n    console.error(error)\r\n    process.exit(1)\r\n  })\r\n}\r\n\r\n\r\n// Give nuxt middleware to express\r\napp.use(nuxt.render)\r\n\r\n\r\n// Listen the server\r\napp.listen(port, host)\r\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\r\n// if(!config.dev){\r\n//   require('localtunnel')(port, {local_host:host,subdomain:require('../package').name},function(err, tunnel) {\r\n//     if (err) {\r\n//       return console.log(err)\r\n//     }\r\n//     console.log(`localtunnel ${tunnel.url}`)\r\n//   })\r\n// }\r\n\r\n\r\nrequire('opn')(`http://${host}:${port}`)\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 2\n// module chunks = 0","import { Router } from 'express'\r\n\r\nimport auth from './auth'\r\n\r\nconst router = Router()\r\n\r\nrouter.use(auth)\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","import { Router } from 'express'\r\n// import axios from 'axios'\r\n// import {oauthParms,HOST,baseURL} from '../../build/api-config'\r\nconst router = Router()\r\n\r\nrouter.get('/init', function(req, res, next) {\r\n  const ip = req.headers['x-forwarded-for'] || req.connection.remoteAddress\r\n  // axios.post(`${HOST}/oauth/token`,oauthParms)\r\n  // .then(({data:{access_token}}) => {\r\n  //   res.json({access_token,ip})\r\n  // })\r\n  res.json({ ip })\r\n})\r\n\r\nrouter.post('/doc_enter', function(req, res, next) {\r\n  if (req.body.pw === 'a123newtopsky321') {\r\n    return res.json({success:'heihei123'})\r\n  }\r\n  res.json({error:1,message:'密码错误！请联系管理员'})\r\n})\r\n\r\nrouter.post('/doc_auth', function(req, res, next) {\r\n  if (req.body.pw === 'heihei123') {\r\n    return res.send(true)\r\n  }\r\n})\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/auth.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 5\n// module chunks = 0","const getIp = () => {\r\n\r\n  var networkInterfaces = require(\"os\").networkInterfaces();\r\n  var matches = [];\r\n\r\n  Object.keys(networkInterfaces).forEach(function (item) {\r\n    networkInterfaces[item].forEach(function (address) {\r\n      if (address.internal === false && address.family === \"IPv4\") {\r\n        matches.push(address.address);\r\n      }\r\n    });\r\n  });\r\n\r\n  return matches[0];\r\n}\r\n\r\nmodule.exports = getIp()\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/get-ip.js\n// module id = 6\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 7\n// module chunks = 0","const path = require('path')\r\nconst webpack = require('webpack')\r\nconst LodashModuleReplacementPlugin = require('lodash-webpack-plugin')\r\nconst WebpackMonitor = require('webpack-monitor');\r\nconst _ = require('lodash')\r\nconst pkg = require('./package')\r\nconst token = require('./backpack_output/token')\r\nconst markdown = require('./build/markdown')\r\nconst NODE_ENV = process.env.NODE_ENV\r\nconst isDev = NODE_ENV === 'development'\r\n  // const isProd = NODE_ENV === 'production'\r\n\r\n\r\nconst router = require('./build/router')\r\nlet modules = [\r\n  '@nuxtjs/axios',\r\n  '@nuxtjs/proxy',\r\n  ['@nuxtjs/component-cache', { maxAge: 1000 * 60 * 60 }]\r\n].concat(isDev ? [] : [\r\n  ['@nuxtjs/pwa']\r\n])\r\n\r\nlet build = {\r\n  //npm run build --analyze\r\n  analyze: process.env.npm_config_analyze ? { analyzerMode: 'static' } :  false,\r\n  publicPath: '/.nuxt/dist/',\r\n  plugins: [\r\n    new LodashModuleReplacementPlugin({\r\n      shorthands:true,//gzip 8.5k -> 10.08k \r\n      collections: true,\r\n      currying: true\r\n    }),\r\n    new webpack.ProvidePlugin({\r\n      $: 'jquery/dist/jquery.custom.js',\r\n      jQuery: 'jquery/dist/jquery.custom.js',\r\n    })\r\n  ],\r\n  babel: {\r\n    plugins: [\r\n      'lodash', 'date-fns','jsx-vue-functional',\r\n      [\"component\", [\r\n        {\r\n          \"libraryName\": \"element-ui\",\r\n          \"styleLibraryName\": \"~assets/element-theme\"\r\n          // \"styleLibraryName\": \"theme-chalk\"\r\n        }\r\n      ]]\r\n    ],\r\n    presets: [\r\n      ['vue-app', {\r\n        targets: isDev ? { chrome: 65 } : { ie: 10 }\r\n      }]\r\n    ]\r\n  },\r\n  extend(config, { isClient, isDev:_isDev }) {\r\n    if (!_isDev) {\r\n      //https://webpack.js.org/configuration/devtool/#production\r\n      //nuxt default nosources-source-map,It can be used to map stack traces on the client without exposing all of the source code\r\n      //sentry require source-map\r\n      //todo .vue file source-map fail,dev mode success\r\n      process.env.SOURCE_MAP ? (config.devtool = 'source-map') : (!isDev && (config.devtool = false))\r\n        //reset uglifyjs config\r\n      config.plugins = config.plugins.filter((plugin) => plugin.constructor.name !== 'UglifyJsPlugin')\r\n      const PreloadWebpackPlugin = require('preload-webpack-plugin');\r\n      config.plugins.push(\r\n        // new PreloadWebpackPlugin({\r\n        //   include: ['play-help']\r\n        // }),\r\n        new webpack.optimize.UglifyJsPlugin({\r\n          extractComments: {\r\n            filename: 'LICENSES'\r\n          },\r\n          compress: {\r\n            warnings: false,\r\n            drop_console: true,\r\n            drop_debugger: true\r\n          },\r\n          sourceMap: true,\r\n          //todo view version is version:v1.0.0-beta.2 ? webpack require update https://github.com/webpack-contrib/uglifyjs-webpack-plugin/releases\r\n          parallel: true\r\n        })\r\n      )\r\n\r\n      if(process.env.npm_config_monitor) {\r\n        config.plugins.push(\r\n          new WebpackMonitor({\r\n            target:'../.nuxt/monitor/stats.json',\r\n            launch: true, // -> default 'false'\r\n          }),\r\n        )\r\n      }\r\n\r\n    }else{\r\n      config.module.rules.push({\r\n        test: /\\.json$/i,\r\n        include: path.resolve(__dirname, 'assets/config'),\r\n        //webpack not reference assets/config\r\n        use: ['file-loader?name=config/[name].[ext]']\r\n      })\r\n    }\r\n\r\n    config.module.rules.push(markdown)\r\n  },\r\n  extractCSS:!isDev,\r\n  filenames: {\r\n    chunk: `[${isDev ? 'name' : 'id'}].[chunkhash].js`\r\n  },\r\n  vendor: [\r\n    'jquery/dist/jquery.custom.js'\r\n  ],\r\n  // You cannot use ~/ or @/ here since it's a Webpack plugin\r\n  styleResources: {\r\n    scss:['./assets/element-variables.scss','./assets/scss/variables.scss']\r\n  }\r\n  \r\n}\r\n//element-ui still has duplicates Selectors,http://cssnano.co/optimisations/uniqueselectors/\r\n//use postcss-cli resolve\r\n// if(!isDev) {\r\n//   build.postcss = require('./build/postcss.config')\r\n// }\r\n\r\nmodule.exports = {\r\n  /*\r\n   ** Headers of the page\r\n   */\r\n  head: {\r\n    title: 'Call of Duty',\r\n    meta: [\r\n      { charset: 'utf-8' },\r\n      { name: 'viewport', content: 'width=device-width, initial-scale=1, shrink-to-fit=no' },\r\n      { 'http-equiv': 'X-UA-Compatible', content: 'IE=edge' },\r\n      { name: 'renderer', content: 'webkit' },\r\n      { hid: 'description', name: 'description', content: 'alpha go.' },\r\n      {name:'google',value:'notranslate'}\r\n    ],\r\n    link: [\r\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\r\n    ]\r\n  },\r\n  /*\r\n   ** Customize the progress bar color\r\n   */\r\n  loading: { color: '#ff5574' },\r\n  // <yt-page-navigation-progress aria-valuemin=\"0\" aria-valuemax=\"100\" id=\"\" class=\"style-scope ytd-app\" aria-valuenow=\"19\">\r\n  //   <div id=\"progress\" class=\"style-scope yt-page-navigation-progress\" style=\"transform: scaleX(0.19);\"></div>\r\n  // </yt-page-navigation-progress>\r\n  //foreground & background\r\n\r\n\r\n  // loadingIndicator: {\r\n  //   name: 'rectangle-bounce',\r\n  //   color: 'white',\r\n  //   background: '#ff5574'\r\n  // },\r\n  css:[\r\n    { src: '~assets/scss/index.scss', lang: 'scss' },\r\n    '~/assets/c8css/swiper.css',\r\n    '~assets/c8css/common.css',\r\n  ],\r\n  // layoutTransition: {\r\n  //   name: 'page',\r\n  //   mode: 'out-in'\r\n  // },\r\n  build,\r\n  env:{\r\n    appVersion:pkg.version\r\n  },\r\n  manifest: {\r\n    name: 'Alpha',\r\n    description: 'Alpha Go',\r\n    theme_color: '#6FADE1'\r\n  },\r\n  modules,\r\n  proxy:{\r\n    '/api': { target: 'http://alpha-api.test.bestsnake.com', onProxyReq(proxyReq, req, res) {\r\n      proxyReq.setHeader('DeviceType', 1)\r\n      proxyReq.setHeader('Authorization',token.access_token)\r\n    }},\r\n    '/sys-report':{\r\n      target: 'http://lottery-detection-center.test.bestsnake.com'\r\n    }\r\n  },\r\n  // serverMiddleware:[\r\n  //   // { path: '/api-front', handler: '~/server/auth.js' }\r\n  //   '~/server/auth.js'\r\n  // ],\r\n  axios: {\r\n    // baseURL: '/api', Default\r\n    init(axios) {\r\n      axios.defaults.timeout = '5000'\r\n    },\r\n    redirectError: {\r\n      401: '/login'\r\n    },\r\n    responseInterceptor(response, {redirect,store}){\r\n      const {data:{errorCode}} = response\r\n      if(errorCode === 102901 || errorCode === 100002) {\r\n        // require('./util/logout')(store),webpack Cannot read property 'call' of undefined\r\n        store.commit('setUser',{ip:store.state.user.ip})\r\n        store.commit('setState', {key:'isLogout',value:errorCode})\r\n        redirect('/login')\r\n      }\r\n      return response\r\n    }\r\n  },\r\n  plugins: [\r\n    '~/plugins/vuex-router-sync',\r\n    { src: '~/plugins/vuex-persistedstate', ssr: false },\r\n    '~/plugins/token',\r\n    '~/plugins/filters',\r\n    '~/plugins/mixin',\r\n    '~/plugins/common',\r\n    '~/plugins/ajax',\r\n  ],\r\n  router,\r\n  render:{\r\n    resourceHints:false,\r\n    // gzip: isDev ? {threshold: 0} : {level:9},\r\n    bundleRenderer: {\r\n      // https://ssr.vuejs.org/en/api.html#shouldpreload\r\n      // this option fail\r\n      // shouldPreload: (file, type) => {\r\n      //   return file.includes('play-help')\r\n      // }\r\n    }\r\n  },\r\n  messages:{\r\n    error_404:'查无此页！'\r\n  },\r\n  debug:process.env.DEBUG\r\n}\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"lodash-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash-webpack-plugin\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"webpack-monitor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-monitor\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 13\n// module chunks = 0","module.exports = {\"name\":\"alpha\",\"version\":\"1.0.0\",\"description\":\"alpha go.\",\"author\":\"Wu Ming\",\"private\":true,\"scripts\":{\"nuxt\":\"node build/nuxt\",\"copy:files\":\"node build/copy\",\"static:json\":\"rimraf assets/config && node build/get-static & node build/get-plays\",\"static:plays\":\"node build/get-plays\",\"custom:jquery\":\"node build/jquery-custom\",\"dev:opn\":\"cross-env NODE_ENV=development npm run nuxt\",\"dev\":\"backpack dev\",\"build\":\"nuxt build\",\"build:source-map\":\"cross-env SOURCE_MAP=true nuxt build\",\"start\":\"nuxt start\",\"start:backpack\":\"cross-env NODE_ENV=production node backpack_output/app\",\"backpack\":\"backpack build\",\"build:prod\":\"run-s clean build nuxt\",\"build:express\":\"cross-env DEBUG=true run-s clean build copy:files postcss backpack start:backpack\",\"dev-spa\":\"nuxt dev --spa\",\"build-spa\":\"nuxt build --spa\",\"start-spa\":\"nuxt start --spa\",\"postcss\":\"postcss -c build -r .nuxt/dist/*.css\",\"clean\":\"rimraf .nuxt/dist dist\",\"generate\":\"nuxt generate\",\"lint\":\"eslint --ext .js,.vue --ignore-path .gitignore .\",\"precommit\":\"npm run lint\",\"element-theme\":\"et\",\"sentry:upload\":\"sentry-cli releases -o noop -p alpha files %npm_package_version% upload-sourcemaps --url-prefix ~/_nuxt .nuxt/dist\",\"sentry\":\"run-s clean build:source-map sentry:upload\",\"serve:pm2\":\"cross-env PORT=3300 HOST=127.0.0.1 pm2 start backpack_output/app.js\",\"serve:build\":\"run-s clean build copy:json backpack serve:pm2\",\"postinstall\":\"npm run custom:jquery\"},\"config\":{\"nuxt_port\":\"3200\"},\"dependencies\":{\"@nuxtjs/axios\":\"^4.5.2\",\"@nuxtjs/component-cache\":\"^1.1.1\",\"@nuxtjs/pwa\":\"^2.0.5\",\"@xkeshi/vue-countdown\":\"^0.5.0\",\"animejs\":\"^2.2.0\",\"bootstrap\":\"^4.0.0\",\"clipboard\":\"^1.7.1\",\"date-fns\":\"^1.29.0\",\"echarts\":\"^4.0.2\",\"element-ui\":\"^2.0.11\",\"github-markdown-css\":\"^2.10.0\",\"highlight.js\":\"^9.12.0\",\"jquery\":\"^3.2.1\",\"js-combinatorics\":\"^0.5.3\",\"markdown-it-anchor\":\"^4.0.0\",\"number-precision\":\"^1.2.0\",\"nuxt\":\"^1.1.1\",\"push.js\":\"^1.0.5\",\"qrcode\":\"^1.2.0\",\"raven-js\":\"^3.22.1\",\"superagent\":\"^3.8.2\",\"ua-parser-js\":\"^0.7.17\",\"vue-awesome-swiper\":\"^3.1.2\",\"vue-lazyload\":\"^1.1.4\",\"vuex-persistedstate\":\"^2.4.2\",\"vuex-router-sync\":\"^5.0.0\"},\"devDependencies\":{\"@nuxtjs/proxy\":\"^1.1.3\",\"babel-eslint\":\"^8.2.1\",\"babel-plugin-component\":\"^1.1.0\",\"babel-plugin-date-fns\":\"^0.1.0\",\"babel-plugin-jsx-vue-functional\":\"^2.1.0\",\"babel-plugin-lodash\":\"^3.3.2\",\"babel-plugin-transform-optional-chaining\":\"^7.0.0-beta.3\",\"backpack-core\":\"^0.5.0\",\"cross-env\":\"^5.1.3\",\"element-theme\":\"^2.0.1\",\"element-theme-chalk\":\"^2.0.11\",\"eslint\":\"^4.15.0\",\"eslint-config-standard\":\"^11.0.0-beta.0\",\"eslint-loader\":\"^1.9.0\",\"eslint-plugin-html\":\"^4.0.1\",\"eslint-plugin-import\":\"^2.8.0\",\"eslint-plugin-node\":\"^5.2.1\",\"eslint-plugin-promise\":\"^3.6.0\",\"eslint-plugin-standard\":\"^3.0.1\",\"localtunnel\":\"^1.8.3\",\"lodash-webpack-plugin\":\"^0.11.4\",\"markdown-it-attrs\":\"^1.2.1\",\"node-sass\":\"^4.7.2\",\"npm-run-all\":\"^4.1.2\",\"postcss-cli\":\"^4.1.1\",\"preload-webpack-plugin\":\"^2.2.0\",\"prepack\":\"^0.2.18\",\"rimraf\":\"^2.6.2\",\"sass-loader\":\"^6.0.6\",\"sentry-cli-binary\":\"^1.25.0\",\"transliteration\":\"^1.6.2\",\"vue-markdown-loader\":\"^2.3.0\",\"webpack-monitor\":\"^1.0.14\"},\"browserslist\":[\"Chrome >= 45\",\"Firefox ESR\",\"Edge >= 12\",\"Explorer >= 10\",\"iOS >= 9\",\"Safari >= 9\",\"Android >= 4.4\",\"Opera >= 30\"],\"element-theme\":{\"browsers\":[\"ie >= 10\"],\"out\":\"./assets/element-theme\",\"config\":\"./assets/element-variables.scss\",\"theme\":\"element-theme-chalk\",\"minimize\":false}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 14\n// module chunks = 0","module.exports = {\"version\":1516009850,\"access_token\":\"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImVhMjVmZGE3NDM3N2ZhMzc3ODA2MTc2NTEzZTk5N2NiZDIwMzNkZmExM2QwN2FhODA4MmNmZmJjMTljNjY3ZGQ4ZjA4YTk5OGM4NzI5MzQyIn0.eyJhdWQiOiIzIiwianRpIjoiZWEyNWZkYTc0Mzc3ZmEzNzc4MDYxNzY1MTNlOTk3Y2JkMjAzM2RmYTEzZDA3YWE4MDgyY2ZmYmMxOWM2NjdkZDhmMDhhOTk4Yzg3MjkzNDIiLCJpYXQiOjE1MTY1OTQ4MDgsIm5iZiI6MTUxNjU5NDgwOCwiZXhwIjoxNTQ4MTMwODA4LCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.A6Yc8geFCx5ssmaG0ZDPF1eIReFTI-DEFuoNt2cISsShw-_pdZ4cQGFKY4OX8dx8uhdNXhlibdQVJohnyF2TBSqHVNb3cFV6UOB6qqMffHsCQoTdmGdfUlk4TjqKCxYROsyU0214-UKEitxhHUfO_MKP6LYIV-otGEMXQYO1FTc4vp4eaezllGcPvk5LWgpVciM_eKCTI3kNz-Z0bChxJoMHdH9IiN1CfxiQ7RvV6yVcEft3wafrYMAyHk_Nfwc8YajIDuGaM6qbW5fpyjcPLdpgLPGFBIeJk3FFXaqaXrG0rnWJlTQYY1KjZmsa6NwZy7_dKU-ViKGen8iX1Mzo8Y8zITnWZzftHkRMxv3sNhxSMG73pJ71Tvyit1EycVY_cJNwg0kj7gR_tA7MFbIiPHCbun96H4_IN3gpeg75H6KeNkTFXg-HaPGmuuSU0VWgve0yktcjVUSAghBqNV7gr4gkcof-V-IPF5adgIeQSxipszR7W2_JNo3vQujTztFP23snvmq1TeoT4zWyGRfX4iftIY9WzR6Kzt6r_PTpOvcDEP4nOt-39FwchcFEIQ3CB7yt5AIeR56dN4tp9DRFks6W1nhf_Zo7xTAFFK99-m8ys-ENqEk_0qRFTsE4KE0NWqRjqEZIIqjvWOmd8IBcW_2VyEKJBrcQ3DGYoPnfAvg\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./backpack_output/token.json\n// module id = 15\n// module chunks = 0","const slugify = require('transliteration').slugify\r\n\r\nmodule.exports = {\r\n  test: /\\.md$/,\r\n  loader: 'vue-markdown-loader',\r\n  options: {\r\n    preprocess: function(markdownIt, source) {\r\n      return source.replace(/img/g,'/.nuxt/dist/img/docs')\r\n    },\r\n    use:[\r\n      [require('markdown-it-anchor'), {\r\n        level: 2,\r\n        slugify,\r\n        permalink: true,\r\n        permalinkBefore: true,\r\n        permalinkClass:'anchor',\r\n        permalinkSymbol:'<svg aria-hidden=\"true\" class=\"octicon octicon-link\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>'\r\n      }],\r\n      require('markdown-it-attrs')\r\n    ]\r\n  }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/markdown.js\n// module id = 16\n// module chunks = 0","module.exports = require(\"transliteration\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"transliteration\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"markdown-it-anchor\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"markdown-it-anchor\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"markdown-it-attrs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"markdown-it-attrs\"\n// module id = 19\n// module chunks = 0","module.exports = {\r\n  middleware: ['logout'],\r\n  linkExactActiveClass: 'active',\r\n  extendRoutes (routes, resolve) {\r\n    // !isDev && _.remove(routes,_ => _.name === 'login-test')\r\n    // function makeDefault(router) {\r\n    //   const firstRouter = router.children[0]\r\n    //   const children = firstRouter.children\r\n    //   const component = children ? children[0].component : firstRouter.component\r\n    //   router.children.unshift({ path: '', component })\r\n    //   delete router.name\r\n    //   if (children) makeDefault(firstRouter)\r\n    // }\r\n    // makeDefault(routes.find(_ => _.name === 'admin'))\r\n\r\n    // routes.find(_ => _.name === 'admin').children.forEach(router => {\r\n    //   if(router.children) {\r\n    //     const component = router.children[0].component\r\n    //     router.children.unshift({ path: '', component })\r\n    //     delete router.name\r\n    //   }\r\n    // })\r\n\r\n    return routes\r\n\r\n  }\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./build/router.js\n// module id = 20\n// module chunks = 0","module.exports = require(\"preload-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"preload-webpack-plugin\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"opn\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"opn\"\n// module id = 22\n// module chunks = 0"],"sourceRoot":""}